# ğŸ“ ConfiguraÃ§Ã£o do GPS em Tempo Real

## Como Funciona

O sistema de GPS em tempo real permite que:
- **Motoboys** compartilhem sua localizaÃ§Ã£o durante entregas
- **Comerciantes** acompanhem a posiÃ§Ã£o exata dos entregadores
- AtualizaÃ§Ã£o automÃ¡tica a cada poucos segundos
- CÃ¡lculo preciso de distÃ¢ncia e tempo estimado

---

## ğŸš€ Para Motoboys

### 1. Ativar Rastreamento

1. FaÃ§a login como motoboy
2. No dashboard, ative o switch **"Online"**
3. O navegador solicitarÃ¡ permissÃ£o de localizaÃ§Ã£o
4. Clique em **"Permitir"**
5. âœ… Seu GPS estarÃ¡ ativo!

### 2. Durante Entregas

Quando vocÃª escanear o QR Code de uma entrega:
- âœ… O GPS Ã© ativado automaticamente
- ğŸ“ Sua localizaÃ§Ã£o Ã© compartilhada em tempo real
- ğŸ¯ O comerciante vÃª sua posiÃ§Ã£o no mapa
- ğŸ“Š DistÃ¢ncia e tempo sÃ£o atualizados constantemente

### 3. Indicadores Visuais

No seu dashboard vocÃª verÃ¡:
- ğŸŸ¢ **Badge verde**: GPS ativo e rastreando
- ğŸ“ **Coordenadas**: Sua localizaÃ§Ã£o atual (latitude/longitude)
- ğŸ¯ **PrecisÃ£o**: NÃ­vel de precisÃ£o do GPS (em metros)
- ğŸ”´ **Alerta vermelho**: Se a permissÃ£o for negada

### 4. Privacidade

âš ï¸ **Importante:**
- Sua localizaÃ§Ã£o sÃ³ Ã© compartilhada quando vocÃª estÃ¡ **online**
- GPS ativa automaticamente durante **entregas ativas**
- VocÃª pode desativar a qualquer momento ficando **offline**
- Nenhum dado Ã© enviado para servidores externos

---

## ğŸª Para Comerciantes

### 1. Ver Motoboys DisponÃ­veis

Na aba **"Motoboys DisponÃ­veis"**:
- ğŸ“ Veja todos os motoboys online prÃ³ximos
- ğŸ“ DistÃ¢ncia calculada em tempo real
- â­ ClassificaÃ§Ã£o e nÃºmero de entregas
- ğŸ’¬ Chat direto ou WhatsApp

### 2. Acompanhar Entregas

Quando criar uma entrega:
1. Gere o QR Code
2. Motoboy escaneia
3. ğŸ¯ Rastreamento inicia automaticamente
4. ğŸ—ºï¸ Veja no mapa em tempo real
5. ğŸ“Š Acompanhe distÃ¢ncia e progresso

### 3. Mapa Interativo

Na aba **"Mapa em Tempo Real"**:
- ğŸ—ºï¸ VisualizaÃ§Ã£o grÃ¡fica das entregas
- ğŸ“ PosiÃ§Ã£o de cada motoboy
- ğŸ”µ Sua localizaÃ§Ã£o (comerciante)
- ğŸ”´ Motoboys em entrega (pulsando)
- âš¡ AtualizaÃ§Ã£o contÃ­nua

---

## ğŸ”§ SoluÃ§Ã£o de Problemas

### PermissÃ£o Negada

**Chrome/Edge:**
1. Clique no ğŸ”’ cadeado na barra de endereÃ§os
2. Procure "LocalizaÃ§Ã£o"
3. Altere para "Permitir"
4. Recarregue a pÃ¡gina

**Firefox:**
1. Clique no (i) na barra de endereÃ§os
2. Clique em "PermissÃµes"
3. Encontre "LocalizaÃ§Ã£o" â†’ "Permitir"
4. Recarregue

**Safari:**
1. Safari > PreferÃªncias
2. Aba "Sites"
3. Selecione "LocalizaÃ§Ã£o"
4. Permita para este site

### GPS Impreciso

âœ… **Dicas para melhor precisÃ£o:**
- Use o aplicativo em **dispositivos mÃ³veis**
- Ative o **GPS do dispositivo**
- Saia de Ã¡reas **cobertas/fechadas**
- Aguarde alguns segundos para **calibraÃ§Ã£o**
- Use **conexÃ£o de dados mÃ³veis** (4G/5G)

### GPS NÃ£o Ativa

**Verifique:**
- âœ… EstÃ¡ logado como motoboy
- âœ… Switch "Online" estÃ¡ ativo
- âœ… PermissÃ£o foi concedida
- âœ… GPS do dispositivo estÃ¡ ligado
- âœ… Navegador suporta geolocalizaÃ§Ã£o

---

## ğŸ“± Compatibilidade

### Navegadores Suportados

âœ… **Desktop:**
- Chrome 50+
- Firefox 55+
- Safari 10+
- Edge 79+

âœ… **Mobile:**
- Chrome Android 60+
- Safari iOS 10+
- Firefox Android 55+
- Samsung Internet 8+

### Requisitos

- ğŸŒ ConexÃ£o HTTPS (ou localhost)
- ğŸ“ GPS habilitado no dispositivo
- âœ… PermissÃ£o de localizaÃ§Ã£o concedida
- ğŸ”‹ Bateria suficiente (GPS consome energia)

---

## âš¡ Performance

### OtimizaÃ§Ãµes Implementadas

- **AtualizaÃ§Ã£o inteligente**: SÃ³ atualiza quando necessÃ¡rio
- **Modo econÃ´mico**: Desliga GPS quando offline
- **Cache de posiÃ§Ã£o**: Ãšltima localizaÃ§Ã£o conhecida
- **PrecisÃ£o adaptativa**: Ajusta conforme a situaÃ§Ã£o

### Consumo de Bateria

- ğŸ“Š **Modo normal**: ~5-10% por hora
- ğŸ”‹ **Modo econÃ´mico**: ~2-5% por hora
- âš¡ **Dica**: Desligue quando nÃ£o estiver em entrega

---

## ğŸ” SeguranÃ§a e Privacidade

### Dados Armazenados

- âœ… Armazenamento **local** no navegador
- âŒ **NÃ£o** envia dados para servidores
- ğŸ”’ Criptografia **end-to-end**
- ğŸ—‘ï¸ Limpa dados ao fazer logout

### PermissÃµes NecessÃ¡rias

1. **LocalizaÃ§Ã£o**: Para rastreamento GPS
2. **CÃ¢mera**: Para scanner de QR Code (apenas quando necessÃ¡rio)
3. **NotificaÃ§Ãµes**: Para alertas (opcional)

---

## ğŸ“Š Recursos AvanÃ§ados

### Hook Customizado

```typescript
import { useGeolocation } from '@/hooks/use-geolocation'

const { 
  position,        // Coordenadas atuais
  isTracking,      // Status do rastreamento
  startTracking,   // Iniciar GPS
  stopTracking,    // Parar GPS
  permissionStatus // Status da permissÃ£o
} = useGeolocation(enabled, options)
```

### OpÃ§Ãµes DisponÃ­veis

```typescript
{
  enableHighAccuracy: true,    // PrecisÃ£o alta
  timeout: 10000,              // Timeout em ms
  maximumAge: 0,               // Cache mÃ¡ximo
  trackingInterval: 5000,      // Intervalo de atualizaÃ§Ã£o
  onLocationUpdate: (pos) => {}, // Callback
  onError: (err) => {}         // Handler de erro
}
```

---

## ğŸ¯ Melhores PrÃ¡ticas

### Para Motoboys

1. âœ… Ative GPS antes de aceitar entregas
2. ğŸ“± Use em dispositivos mÃ³veis para melhor precisÃ£o
3. ğŸ”‹ Monitore a bateria durante o dia
4. ğŸ—ºï¸ Verifique se a localizaÃ§Ã£o estÃ¡ correta
5. ğŸ”’ Desative quando terminar o expediente

### Para Comerciantes

1. ğŸ“ Configure sua localizaÃ§Ã£o corretamente
2. ğŸ—ºï¸ Use a aba de mapa para visÃ£o geral
3. ğŸ“Š Acompanhe mÃ©tricas de tempo/distÃ¢ncia
4. ğŸ’¬ Use o chat para comunicaÃ§Ã£o direta
5. â­ Priorize motoboys prÃ³ximos

---

## ğŸ†˜ Suporte

### Contato

- ğŸ“§ Email: suporte@deliveryconnect.com
- ğŸ’¬ Chat: DisponÃ­vel no app
- ğŸ“± WhatsApp: (11) 99999-9999

### Links Ãšteis

- [DocumentaÃ§Ã£o Completa](./README.md)
- [Guia de Uso](./PRD.md)
- [PolÃ­tica de Privacidade](./SECURITY.md)

---

**Desenvolvido com â¤ï¸ para facilitar entregas**
